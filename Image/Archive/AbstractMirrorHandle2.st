'From Pharo-1.1-11411 of 17 July 2010 [Latest update: #11411] on 2 December 2010 at 3:28:37 pm'!Handle subclass: #AbstractMirrorHandle2	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Handles-ApplicationMirrorAPI'!"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!AbstractMirrorHandle2 class	instanceVariableNames: ''!!AbstractMirrorHandle2 class methodsFor: 'as yet unclassified' stamp: 'JB 12/2/2010 15:28'!changeStaticHierarchy: aMethodDict to: aClass aMethodDict		do: [:each | each methodClass: aClass].	^ methodDict ! !!AbstractMirrorHandle2 class methodsFor: 'as yet unclassified' stamp: 'JB 12/2/2010 15:28'!debugMirrorFor: aObject 	| aClass handle | 	aClass := self reflect: aObject.	handle := self debugFor: aObject to: aClass.	handle removeState; addBehavior.	^ handle! !!AbstractMirrorHandle2 class methodsFor: 'as yet unclassified' stamp: 'JB 12/2/2010 15:28'!mirrorFor: aObject 	| aClass handle |	aClass := self reflect: aObject.	handle := self debugFor: aObject to: aClass.	handle removeState; addBehavior; becomeHandle. 	^ handle! !!AbstractMirrorHandle2 class methodsFor: 'as yet unclassified' stamp: 'JB 12/2/2010 15:28'!reflect: aObject	| aBehavior  aMethodDict |	aMethodDict  := aObject class methodDict copy.	aMethodDict		addAll: (self changeStaticHierarchy: self methodDict copy to: aObject class).	aBehavior := Behavior new setFormat: aObject class format;				 superclass: aObject class superclass;				 methodDict: aMethodDict.	aBehavior superclass: aObject class.	^ aBehavior! !